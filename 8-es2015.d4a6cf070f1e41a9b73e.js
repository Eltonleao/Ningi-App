(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3XGk":function(t,e,o){"use strict";o.r(e),o.d(e,"TodoDetailsPageModule",(function(){return m}));var n=o("ofXK"),d=o("3Pt+"),i=o("TEn/"),r=o("tyNb"),s=o("mrSG"),l=o("fXoL"),a=o("lJxs"),c=o("CqG3");let u=(()=>{class t{constructor(t){this.todosCollection=t.collection("todos",t=>t.where("deletado","==",0)),this.todos=this.todosCollection.snapshotChanges().pipe(Object(a.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getTodos(){return this.todos}getTodo(t){return this.todosCollection.doc(t).valueChanges()}updateTodo(t,e){return this.todosCollection.doc(e).update(t)}addTodo(t){return this.todosCollection.add(t)}removeTodo(t){return this.todosCollection.doc(t).update({deletado:1})}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275inject"](c.AngularFirestore))},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.todoService=t,this.route=e,this.loadingController=o,this.nav=n,this.todo={task:null,createdAt:null,priority:null,deletado:0},this.todoId=null}ngOnInit(){this.todoId=this.route.snapshot.params.id,this.todoId&&this.loadTodo()}loadTodo(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"loading..."});yield t.present(),this.todoService.getTodo(this.todoId).subscribe(e=>{t.dismiss(),this.todo=e,console.log(this.todo)})}))}saveTodo(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"saving..."});yield t.present(),this.todoId?this.todoService.updateTodo(this.todo,this.todoId).then(()=>{t.dismiss(),this.nav.back()}):this.todoService.addTodo(this.todo).then(()=>{t.dismiss(),this.nav.back()})}))}}return t.\u0275fac=function(e){return new(e||t)(l["\u0275\u0275directiveInject"](u),l["\u0275\u0275directiveInject"](r.a),l["\u0275\u0275directiveInject"](i.Z),l["\u0275\u0275directiveInject"](i.bb))},t.\u0275cmp=l["\u0275\u0275defineComponent"]({type:t,selectors:[["app-todo-details"]],decls:14,vars:2,consts:[["slot","start"],["defaultHref","/dashboard"],["required","","type","text","placeholder","Task",3,"ngModel","ngModelChange"],["required","","type","number","placeholder","Priority",3,"ngModel","ngModelChange"],["expand","full",3,"click"]],template:function(t,e){1&t&&(l["\u0275\u0275elementStart"](0,"ion-header"),l["\u0275\u0275elementStart"](1,"ion-toolbar"),l["\u0275\u0275elementStart"](2,"ion-buttons",0),l["\u0275\u0275element"](3,"ion-back-button",1),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"ion-title"),l["\u0275\u0275text"](5,"todoDetails"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"ion-content"),l["\u0275\u0275elementStart"](7,"ion-list"),l["\u0275\u0275elementStart"](8,"ion-item"),l["\u0275\u0275elementStart"](9,"ion-input",2),l["\u0275\u0275listener"]("ngModelChange",(function(t){return e.todo.task=t})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"ion-item"),l["\u0275\u0275elementStart"](11,"ion-input",3),l["\u0275\u0275listener"]("ngModelChange",(function(t){return e.todo.priority=t})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"ion-button",4),l["\u0275\u0275listener"]("click",(function(){return e.saveTodo()})),l["\u0275\u0275text"](13,"Save"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&t&&(l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",e.todo.task),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.todo.priority))},directives:[i.t,i.W,i.h,i.d,i.e,i.V,i.o,i.B,i.w,i.v,i.hb,d.f,d.d,d.e,i.cb,i.g],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[r.i.forChild(h)],r.i]}),t})(),m=(()=>{class t{}return t.\u0275mod=l["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[n.b,d.a,i.X,p]]}),t})()}}]);