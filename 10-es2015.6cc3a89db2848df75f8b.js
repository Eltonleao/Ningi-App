(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ZEuG:function(e,t,n){"use strict";n.r(t),n.d(t,"PerfilPageModule",(function(){return h}));var r=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),o=n("tyNb"),d=n("mrSG"),c=n("fXoL"),l=n("e8h1"),s=n("hLxd");function m(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"ion-card",3),c["\u0275\u0275elementStart"](1,"ion-card-header"),c["\u0275\u0275elementStart"](2,"ion-card-title"),c["\u0275\u0275text"](3,"Account Partner"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](4,"img",10),c["\u0275\u0275elementStart"](5,"ion-card-title"),c["\u0275\u0275text"](6,"No Partner Yet"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"ion-card-content"),c["\u0275\u0275elementStart"](8,"ion-button",8),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().addPartner()})),c["\u0275\u0275text"](9,"Add Partner"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function u(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"ion-card",3),c["\u0275\u0275elementStart"](1,"ion-card-header"),c["\u0275\u0275elementStart"](2,"ion-card-title"),c["\u0275\u0275text"](3,"Account Partner"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](4,"img",5),c["\u0275\u0275elementStart"](5,"ion-card-title"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"ion-card-content"),c["\u0275\u0275elementStart"](8,"ion-button",8),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().addPartner()})),c["\u0275\u0275text"](9,"Change Partner"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275propertyInterpolate"]("src",e.partner.photoURL,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.partner.displayName)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,n){this.storage=e,this.alertCtrl=t,this.ningiService=n,this.user={},this.myMagickWord="nenhuma palavra m\xe1gica encontrada..."}ngOnInit(){var e=this;this.storage.get("user").then(t=>{this.user=t,this.ningiService.getMyMagickWord().then(t=>Object(d.a)(this,void 0,void 0,(function*(){t&&(e.myMagickWord=yield t.magickword,yield e.ningiService.getPartner((function(t){return Object(d.a)(this,void 0,void 0,(function*(){e.ningiService.getuser(t.partner_email,(function(t){console.log("partner",t),e.partner=t,e.storage.set("partner",t)}))}))})))})))})}updateMyMagickWord(){return Object(d.a)(this,void 0,void 0,(function*(){var e=this.alertCtrl.create({message:"Magick Word Updated!"});yield this.ningiService.updateMyMagickWord(this.myMagickWord).then(()=>Object(d.a)(this,void 0,void 0,(function*(){(yield e).present(),setTimeout(()=>Object(d.a)(this,void 0,void 0,(function*(){(yield e).dismiss()})),1e3)})))}))}addPartner(){return Object(d.a)(this,void 0,void 0,(function*(){var e=this;const t=yield this.alertCtrl.create({message:"Insira a palavra m\xe1gica",inputs:[{name:"magick_word",type:"text",placeholder:"Magick Word",attributes:{autocomplete:"false",required:!0}}],buttons:[{text:"Cancelar"},{text:"Ok",handler:t=>Object(d.a)(this,void 0,void 0,(function*(){""!=t.magick_word?yield this.ningiService.checkMagickWord(t.magick_word).then(t=>Object(d.a)(this,void 0,void 0,(function*(){if(t)console.log("partner founded: ",t),this.ningiService.addPartner(t,(function(){return Object(d.a)(this,void 0,void 0,(function*(){var t=e.alertCtrl.create({message:"Partner Updated!"});(yield t).present(),setTimeout(()=>Object(d.a)(this,void 0,void 0,(function*(){(yield t).dismiss()})),1e3),e.ngOnInit()}))}));else{var n=e.alertCtrl.create({message:"No user with that Magick Word has founded..."});(yield n).present(),setTimeout(()=>Object(d.a)(this,void 0,void 0,(function*(){(yield n).dismiss()})),1e3)}}))):this.addPartner()}))}]});yield t.present()}))}doRefresh(e){return Object(d.a)(this,void 0,void 0,(function*(){yield this.ngOnInit(),yield e.target.complete()}))}ionViewDidEnter(){console.log("I'm alive!"),this.ngOnInit()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](l.b),c["\u0275\u0275directiveInject"](a.a),c["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-perfil"]],decls:25,vars:5,consts:[["color","dark"],["slot","start",1,"menu-btn"],["manu","main-menu"],[1,"ion-text-center"],["slot","fixed",3,"ionRefresh"],[1,"perfil-img",3,"src"],["position","stacked",1,"text-align-center"],["type","text","placeholder","My Magick Word","placeholder","Insert Magick Word",1,"ion-text-center",3,"ngModel","ngModelChange"],[3,"click"],["class","ion-text-center",4,"ngIf"],["src","https://picsum.photos/100",1,"perfil-img"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-header"),c["\u0275\u0275elementStart"](1,"ion-toolbar",0),c["\u0275\u0275elementStart"](2,"ion-buttons",1),c["\u0275\u0275element"](3,"ion-menu-button",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"ion-title",3),c["\u0275\u0275text"](5,"Perfil"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"ion-content"),c["\u0275\u0275elementStart"](7,"ion-refresher",4),c["\u0275\u0275listener"]("ionRefresh",(function(e){return t.doRefresh(e)})),c["\u0275\u0275element"](8,"ion-refresher-content"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"ion-card",3),c["\u0275\u0275elementStart"](10,"ion-card-title"),c["\u0275\u0275text"](11,"Account"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](12,"img",5),c["\u0275\u0275elementStart"](13,"ion-card-header"),c["\u0275\u0275elementStart"](14,"ion-card-title"),c["\u0275\u0275text"](15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"ion-card-content"),c["\u0275\u0275elementStart"](17,"ion-item"),c["\u0275\u0275elementStart"](18,"ion-label",6),c["\u0275\u0275text"](19,"Magick Word"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"ion-input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.myMagickWord=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"ion-button",8),c["\u0275\u0275listener"]("click",(function(){return t.updateMyMagickWord()})),c["\u0275\u0275text"](22,"Change Magick Word"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](23,m,10,0,"ion-card",9),c["\u0275\u0275template"](24,u,10,2,"ion-card",9),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](12),c["\u0275\u0275propertyInterpolate"]("src",t.user.photoURL,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.user.displayName),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngModel",t.myMagickWord),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",!t.partner),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.partner))},directives:[a.t,a.W,a.h,a.D,a.V,a.o,a.E,a.F,a.i,a.m,a.k,a.j,a.w,a.A,a.v,a.hb,i.d,i.e,a.g,r.j],styles:[".perfil-img[_ngcontent-%COMP%]{border-radius:50%;margin-top:10px;height:100px;max-width:100px}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.i.forChild(p)],o.i]}),e})(),h=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.b,i.a,a.X,g]]}),e})()}}]);