!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3XGk":function(t,o,i){"use strict";i.r(o),i.d(o,"TodoDetailsPageModule",(function(){return k}));var r,d,a,s,c=i("ofXK"),l=i("3Pt+"),u=i("TEn/"),f=i("tyNb"),h=i("mrSG"),p=i("fXoL"),m=i("lJxs"),v=i("CqG3"),g=((r=function(){function t(n){e(this,t),this.todosCollection=n.collection("todos",(function(e){return e.where("deletado","==",0)})),this.todos=this.todosCollection.snapshotChanges().pipe(Object(m.a)((function(e){return e.map((function(e){var t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)}))})))}return n(t,[{key:"getTodos",value:function(){return this.todos}},{key:"getTodo",value:function(e){return this.todosCollection.doc(e).valueChanges()}},{key:"updateTodo",value:function(e,t){return this.todosCollection.doc(t).update(e)}},{key:"addTodo",value:function(e){return this.todosCollection.add(e)}},{key:"removeTodo",value:function(e){return this.todosCollection.doc(e).update({deletado:1})}}]),t}()).\u0275fac=function(e){return new(e||r)(p["\u0275\u0275inject"](v.AngularFirestore))},r.\u0275prov=p["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r),y=[{path:"",component:(d=function(){function t(n,o,i,r){e(this,t),this.todoService=n,this.route=o,this.loadingController=i,this.nav=r,this.todo={task:null,createdAt:null,priority:null,deletado:0},this.todoId=null}return n(t,[{key:"ngOnInit",value:function(){this.todoId=this.route.snapshot.params.id,this.todoId&&this.loadTodo()}},{key:"loadTodo",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"loading..."});case 2:return t=e.sent,e.next=5,t.present();case 5:this.todoService.getTodo(this.todoId).subscribe((function(e){t.dismiss(),n.todo=e,console.log(n.todo)}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"saveTodo",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"saving..."});case 2:return t=e.sent,e.next=5,t.present();case 5:this.todoId?this.todoService.updateTodo(this.todo,this.todoId).then((function(){t.dismiss(),n.nav.back()})):this.todoService.addTodo(this.todo).then((function(){t.dismiss(),n.nav.back()}));case 6:case"end":return e.stop()}}),e,this)})))}}]),t}(),d.\u0275fac=function(e){return new(e||d)(p["\u0275\u0275directiveInject"](g),p["\u0275\u0275directiveInject"](f.a),p["\u0275\u0275directiveInject"](u.Z),p["\u0275\u0275directiveInject"](u.bb))},d.\u0275cmp=p["\u0275\u0275defineComponent"]({type:d,selectors:[["app-todo-details"]],decls:14,vars:2,consts:[["slot","start"],["defaultHref","/dashboard"],["required","","type","text","placeholder","Task",3,"ngModel","ngModelChange"],["required","","type","number","placeholder","Priority",3,"ngModel","ngModelChange"],["expand","full",3,"click"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"ion-header"),p["\u0275\u0275elementStart"](1,"ion-toolbar"),p["\u0275\u0275elementStart"](2,"ion-buttons",0),p["\u0275\u0275element"](3,"ion-back-button",1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"ion-title"),p["\u0275\u0275text"](5,"todoDetails"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"ion-content"),p["\u0275\u0275elementStart"](7,"ion-list"),p["\u0275\u0275elementStart"](8,"ion-item"),p["\u0275\u0275elementStart"](9,"ion-input",2),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.todo.task=e})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](10,"ion-item"),p["\u0275\u0275elementStart"](11,"ion-input",3),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.todo.priority=e})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"ion-button",4),p["\u0275\u0275listener"]("click",(function(){return t.saveTodo()})),p["\u0275\u0275text"](13,"Save"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](9),p["\u0275\u0275property"]("ngModel",t.todo.task),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngModel",t.todo.priority))},directives:[u.t,u.W,u.h,u.d,u.e,u.V,u.o,u.B,u.w,u.v,u.hb,l.f,l.d,l.e,u.cb,u.g],styles:[""]}),d)}],b=((s=function t(){e(this,t)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||s)},imports:[[f.i.forChild(y)],f.i]}),s),k=((a=function t(){e(this,t)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:a}),a.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||a)},imports:[[c.b,l.a,u.X,b]]}),a)}}])}();